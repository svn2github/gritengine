print("Loading Wipeout world")

local function add(name, obj, tab)
    tab = tab or {}
    tab.rot = euler(obj.rot[1],obj.rot[2],obj.rot[3])
    object (name) (obj.pos[1], obj.pos[2], obj.pos[3]) (tab)
end

local objs

objs = {
    { pos={455.558, -2127.73, 24.7512}, rot={0, 0, 0}, model=8416 },
    { pos={618.824, -2255.26, 53.633}, rot={0, 0, 0}, model=8480 },
    { pos={901.387, -2271.1, 50.9151}, rot={0, 0, 0}, model=8487 },
    { pos={873.317, -2389.79, 76.497}, rot={0, 0, 0}, model=8502 },
    { pos={655.778, -2203.47, 81.4731}, rot={0, 0, 0}, model=8549 },
    { pos={592.967, -2081.76, 63.1381}, rot={0, 0, 0}, model=8573 },
    { pos={545.941, -2247.27, 63.1479}, rot={0, 0, 0}, model=8574 },
    { pos={713.466, -2343.19, 56.8673}, rot={0, 0, 0}, model=8576 },
    { pos={914.694, -2124.07, 77.1981}, rot={0, 0, 0}, model=8579 },
    { pos={596.34, -2019.87, 48.9253}, rot={0, 0, 0}, model=8592 },
    { pos={421.007, -2238.94, 63.7132}, rot={0, 0, 0}, model=8597 },
    { pos={459.567, -2372.04, 72.2644}, rot={0, 0, 0}, model=8617 },
    { pos={281.427, -2304.47, 58.5272}, rot={0, 0, 0}, model=8619 },
    { pos={206.086, -2165.59, 55.2145}, rot={0, 0, 0}, model=8623 },
    { pos={377.81, -1975.36, 37.767}, rot={0, 0, 0}, model=8641 },
    { pos={674.001, -2045.383, 50.0126}, rot={0, 0, 0}, model=8642 },
    { pos={641.769, -2251.013, 76.419}, rot={0, 0, 0}, model=8644 },
    { pos={272.895, -2274.38, 69.8753}, rot={0, 0, 0}, model=8660 },
    { pos={106.095, -2162.77, 87.9384}, rot={0, 0, 0}, model=8665 },
    { pos={264.141, -2097.35, 43.493}, rot={0, 0, 0}, model=8666 },
}

for i,obj in ipairs(objs) do
    add(('barrier%02d'):format(i), obj)
end

objs = {
    { pos={455.558, -2127.73, 24.7512}, rot={0, 0, 0}, model=8548 },
    { pos={618.824, -2255.26, 53.633}, rot={0, 0, 0}, model=8825 },
    { pos={901.387, -2271.1, 50.9151}, rot={0, 0, 0}, model=6970 },
    { pos={873.317, -2389.79, 76.497}, rot={0, 0, 0}, model=6972 },
    { pos={655.778, -2203.47, 81.4731}, rot={0, 0, 0}, model=6974 },
    { pos={592.967, -2081.76, 63.1381}, rot={0, 0, 0}, model=7013 },
    { pos={545.941, -2247.27, 63.1479}, rot={0, 0, 0}, model=7014 },
    { pos={713.466, -2343.19, 56.8673}, rot={0, 0, 0}, model=7016 },
    { pos={914.694, -2124.07, 77.1981}, rot={0, 0, 0}, model=7017 },
    { pos={596.34, -2019.87, 48.9253}, rot={0, 0, 0}, model=7018 },
    { pos={421.007, -2238.94, 63.7132}, rot={0, 0, 0}, model=7022 },
    { pos={459.567, -2372.04, 72.2644}, rot={0, 0, 0}, model=7191 },
    { pos={281.427, -2304.47, 58.5272}, rot={0, 0, 0}, model=7192 },
    { pos={206.086, -2165.59, 55.2145}, rot={0, 0, 0}, model=7202 },
    { pos={377.81, -1975.36, 37.767}, rot={0, 0, 0}, model=7242 },
    { pos={674.001, -2045.383, 50.0126}, rot={0, 0, 0}, model=8037 },
    { pos={641.769, -2251.013, 76.419}, rot={0, 0, 0}, model=10032 },
    { pos={272.895, -2274.38, 69.8753}, rot={0, 0, 0}, model=10036 },
    { pos={106.095, -2162.77, 87.9384}, rot={0, 0, 0}, model=9206 },
    { pos={264.141, -2097.35, 43.493}, rot={0, 0, 0}, model=9207 }
}

for i,obj in ipairs(objs) do
    add(('wipeo_%02d'):format(i), obj)
end

objs = {
    { pos={418.37139892578, -2099.4812011719,   10.748339080811},   rot={14.140808105469,   357.30480957031,    271.08447265625},   model=10775 },
    { pos={508.25103759766, -2150.7829589844,   39.660097503662},   rot={3.3831787109375,   358.56555175781,    160.19848632813},   model=10775 },
    { pos={537.2197265625,  -2316.8479003906,   66.623968505859},   rot={0.29052734375,     355.38446044922,    266.02227783203},   model=10775 },
    { pos={1003.4903564453, -2257.5222167969,   45.165098571777},   rot={21.632568359375,   12.078857421875,    225.46990966797},   model=10775 },
    { pos={698.7001953125,  -2394.3483886719,   89.526245422363},   rot={5.136962890625,    16.204772949219,    61.158203125},      model=10775 },
    { pos={603.68536376953, -1968.2434082031,   71.775907897949},   rot={3.759033203125,    344.15490722656,    85.813110351563},   model=10775 },
    { pos={527.33728027344, -2297.8562011719,   53.11102142334},    rot={7.3622436523438,   341.17639160156,    186.6591796875},    model=10775 },
    { pos={651.79217529297, -2398.2443847656,   68.694876098633},   rot={353.61108398438,   345.72570800781,    270.94018554688},   model=10775 },
    { pos={975.08197021484, -2183.5991210938,   73.442601013184},   rot={0.71978759765625,  326.70416259766,    349.12066650391},   model=10775 },
    { pos={782.9951171875,  -1944.5858154297,   49.63649597168},    rot={356.72430419922,   351.71789550781,    87.6884765625},     model=10775 },
    { pos={359.87615966797, -2240.5192871094,   54.164785766602},   rot={13.666809082031,   3.864013671875,     171.84582519531},   model=10775 },
    { pos={562.92163085938, -2384.3713378906,   93.398695373535},   rot={7.7520141601563,   17.774047851563,    214.72503662109},   model=10775 },
    { pos={243.2456817627,  -2321.6235351563,   38.235319519043},   rot={1.3267822265625,   9.5970458984375,    53.335693359375},   model=10775 },
    { pos={187.28288269043, -2105.5905761719,   74.661749267578},   rot={356.84350585938,   7.845458984375,     347.17132568359},   model=10775 },
    { pos={284.08889770508, -2031.2354736328,   36.662844085693},   rot={345.24871826172,   352.34436035156,    257.98193359375},   model=10775 },
    { pos={433.57080078125, -1955.6204833984,   42.719808959961},   rot={3.9613037109375,   0.16876220703125,   309.2744140625},    model=10775 },
    { pos={743.2763671875,  -2033.4313964844,   38.02325668335},    rot={7.7762451171875,   8.6515502929688,    221.34350585938},   model=10775 },
    { pos={737.21392822266, -2268.3505859375,   83.38233795166},    rot={359.06469726563,   9.3564453125,       104.96557617188},   model=10775 },
    { pos={397.77258300781, -2300.287109375,    66.747496032715},   rot={356.76818847656,   18.737121582031,    88.540283203125},   model=10775 },
    { pos={71.94751739502,  -2173.142578125,    91.290563964844},   rot={11.449340820313,   14.077880859375,    14.453491210938},   model=10775 },
    { pos={272.59436035156, -2101.9772949219,   20.030302429199},   rot={340.04559326172,   359.90270996094,    269.73236083984},   model=10775 },
}                                                                                                                

for i,obj in ipairs(objs) do
    add("weaponpad", obj)
end

objs = {
    { pos={229.28289794922, -2099.677734375, 44.195388793945}, rot={0, 0, 90}, model=11413 },
    { pos={546.52960205078, -2253.702392578, 97.403656005859}, rot={0, 0, 0}, model=11413 },
    { pos={323.61352539063, -2141.709472656, 25.057270526886}, rot={0, 0, 0}, model=11413 },
    { pos={323.61352539063, -2141.709472656, 65.057270526886}, rot={0, 0, 0}, model=11413 },
}

for i,obj in ipairs(objs) do
    add("wo_tunnel", obj, {spinSpeed = math.random(5,10)})
end

    
objs = {
    { pos={323.61352539063, -2141.709472656, 05.057270526886}, rot={0, 0, 0}, model=11413 },
    { pos={323.61352539063, -2141.709472656, 45.057270526886}, rot={0, 0, 0}, model=11413 },
    { pos={323.61352539063, -2141.709472656, 85.057270526886}, rot={0, 0, 0}, model=11413 },
}

for i,obj in ipairs(objs) do
    add("wo_tunnel", obj, {spinSpeed = math.random(10,20)})
end

objs = {
    { pos={396.12408447266, -2099.828125,       6.5849380111694}, rot={7.3316650390625, 359.60882568359,    269.52868652344}, model=10776 },
    { pos={503.318359375,   -2178.3100585938,   40.974649810791}, rot={3.5283203125,    353.53051757813,    160.20196533203}, model=10776 },
    { pos={685.50054931641, -2280.5747070313,   54.903349304199}, rot={353.46014404297, 5.5172119140625,    295.54278564453}, model=10776 },
    { pos={1000.8735961914, -2386.3229980469,   67.802801513672}, rot={351.38543701172, 13.852172851563,    128.81103515625}, model=10776 },
    { pos={614.36224365234, -2196.2094726563,   86.684400939941}, rot={354.40710449219, 0.2003173828125,    357.30334472656}, model=10776 },
    { pos={562.17779541016, -2084.826171875,    61.384985351563}, rot={354.39166259766, 12.27001953125 ,    178.88201904297}, model=10776 },
    { pos={562.056640625,   -2114.1467285156,   58.686544799805}, rot={356.34649658203, 12.798950195313,    179.65881347656}, model=10776 },
    { pos={533.80114746094, -2291.4697265625,   49.908575439453}, rot={8.5690307617188, 340.83721923828,    184.05084228516}, model=10776 },
    { pos={519.84387207031, -2292.6748046875,   54.82370223999 }, rot={5.0701904296875, 339.82507324219,    184.7060546875 }, model=10776 },
    { pos={706.06762695313, -2385.1455078125,   58.702032470703}, rot={349.98425292969, 347.28070068359,    284.14544677734}, model=10776 },
    { pos={980.66986083984, -2216.7338867188,   80.98324432373 }, rot={4.5728149414063, 327.9521484375 ,    338.48657226563}, model=10776 },
    { pos={781.36608886719, -1960.4661865234,   47.367781066895}, rot={358.38427734375, 351.88684082031,    83.186767578125}, model=10776 },
    { pos={465.74075317383, -2025.3713378906,   44.446844482422}, rot={359.02587890625, 351.82092285156,    129.27069091797}, model=10776 },
    { pos={400.96978759766, -2334.3959960938,   72.087026977539}, rot={355.96044921875, 347.75537109375,    260.24011230469}, model=10776 },
    { pos={480.50427246094, -2402.8666992188,   77.597044372559}, rot={348.33752441406, 357.49084472656,    62.3427734375  }, model=10776 },
    { pos={448.92343139648, -2385.4045410156,   70.425321960449}, rot={348.58703613281, 356.81274414063,    60.518310546875}, model=10776 },
    { pos={414.24026489258, -2364.3698730469,   62.541502380371}, rot={348.94366455078, 355.62097167969,    57.985229492188}, model=10776 },
    { pos={248.55834960938, -2314.9089355469,   36.850702667236}, rot={359.03674316406, 8.8983764648438,    48.239868164063}, model=10776 },
    { pos={276.06997680664, -2029.9956054688,   38.848589324951}, rot={344.79974365234, 353.12719726563,    261.85797119141}, model=10776 },
    { pos={550.69372558594, -1928.216796875,    32.325239562988}, rot={353.40155029297, 9.791015625,        266.69360351563}, model=10776 },
    { pos={735.26000976563, -2261.2912597656,   82.20069732666 }, rot={358.80151367188, 9.2017211914063,    104.14569091797}, model=10776 },
    { pos={627.63330078125, -2284.3642578125,   78.520071411133}, rot={357.17425537109, 11.324096679688,    98.1943359375  }, model=10776 },
    { pos={530.98040771484, -2295.5524902344,   73.757200622559}, rot={357.21215820313, 14.044677734375,    95.779357910156}, model=10776 },
    { pos={397.25314331055, -2309.8994140625,   69.955052185059}, rot={357.53314208984, 19.911315917969,    89.506042480469}, model=10776 },
    { pos={100.16924285889, -2109.4482421875,   90.831762695313}, rot={344.21398925781, 11.488647460938,    289.55389404297}, model=10776 },
    { pos={206.30947875977, -2098.7297363281,   66.366828918457}, rot={310.36047363281, 1.6465454101563,    271.00634765625}, model=10776 },
    { pos={333.69918823242, -2099.7731933594,   7.2181619644165}, rot={354.60931396484, 359.71362304688,    268.26818847656}, model=10776 },
}

for i,obj in ipairs(objs) do
    add("speedpad", obj)
end

local sky_mesh = "/wipeout/SkyBox.mesh"
disk_resource_add(sky_mesh)
disk_resource_load_indefinitely(sky_mesh)
sky_ent:destroy()
sky_ent = gfx_sky_body_make(sky_mesh, 255)
